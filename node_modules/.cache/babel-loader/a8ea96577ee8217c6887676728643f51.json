{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\coterie\\\\src\\\\Upload2.js\";\nimport React, { useState } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { db, auth } from './firebase';\nimport firebase from \"firebase\";\nimport { Button } from '@material-ui/core';\nimport \"./ChatRoom.css\";\n\nfunction Upload2() {\n  const msgRef = db.collection('Posts');\n  /*creates reference in firebase */\n\n  const query = msgRef.orderBy('AtTime');\n  const [messages] = useCollectionData(query, {\n    idField: 'id'\n  });\n  const [formInput, setFormInput] = useState('');\n\n  const sendMsg = async e => {\n    e.preventDefault();\n    const {\n      uid,\n      photoURL\n    } = auth.currentUser;\n    await msgRef.add({\n      text: formInput,\n      AtTime: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n      photoURL\n    });\n    setFormInput('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, messages && messages.map(msg => /*#__PURE__*/React.createElement(ChatMessage, {\n    key: msg.id,\n    message: msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: formInput,\n    onChange: e => setFormInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, \"Send\")));\n}\n\nfunction ChatMessage(props) {\n  const {\n    text,\n    uid,\n    photoURL\n  } = props.message;\n  const compareUser = uid === auth.currentUser.uid ? 'sent' : 'recieved';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: 'message $ {compareUser}',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: photoURL || 'https://api.adorable.io/avatars/23/abott@adorable.png',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, \"message \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }\n  }, compareUser), text));\n}\n\nexport default Upload2;","map":{"version":3,"sources":["D:/GitHub/coterie/src/Upload2.js"],"names":["React","useState","useAuthState","useCollectionData","db","auth","firebase","Button","Upload2","msgRef","collection","query","orderBy","messages","idField","formInput","setFormInput","sendMsg","e","preventDefault","uid","photoURL","currentUser","add","text","AtTime","firestore","FieldValue","serverTimestamp","map","msg","id","target","value","ChatMessage","props","message","compareUser"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,YAAR,QAA2B,2BAA3B;AACA,SAAQC,iBAAR,QAAgC,gCAAhC;AACA,SAAQC,EAAR,EAAWC,IAAX,QAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAO,gBAAP;;AAEA,SAASC,OAAT,GAAmB;AAEf,QAAMC,MAAM,GAACL,EAAE,CAACM,UAAH,CAAc,OAAd,CAAb;AAAoC;;AACpC,QAAMC,KAAK,GAACF,MAAM,CAACG,OAAP,CAAe,QAAf,CAAZ;AACA,QAAM,CAACC,QAAD,IAAWV,iBAAiB,CAACQ,KAAD,EAAQ;AAACG,IAAAA,OAAO,EAAE;AAAV,GAAR,CAAlC;AACA,QAAK,CAACC,SAAD,EAAYC,YAAZ,IAA0Bf,QAAQ,CAAC,EAAD,CAAvC;;AAEA,QAAMgB,OAAO,GAAC,MAAMC,CAAN,IAAU;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAACC,MAAAA,GAAD;AAAMC,MAAAA;AAAN,QAAgBhB,IAAI,CAACiB,WAA3B;AACA,UAAMb,MAAM,CAACc,GAAP,CAAW;AACfC,MAAAA,IAAI,EAACT,SADU;AAEfU,MAAAA,MAAM,EAAGnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFM;AAGfR,MAAAA,GAHe;AAIfC,MAAAA;AAJe,KAAX,CAAN;AAMAL,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACF,GAVD;;AAaA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMH,QAAQ,IAAIA,QAAQ,CAACgB,GAAT,CAAaC,GAAG,iBAAE,oBAAC,WAAD;AAAa,IAAA,GAAG,EAAEA,GAAG,CAACC,EAAtB;AAA0B,IAAA,OAAO,EAAED,GAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB,CADlB,eAEI;AAAM,IAAA,QAAQ,EAAEb,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAEF,SAAd;AAAyB,IAAA,QAAQ,EAAGG,CAAD,IAAKF,YAAY,CAACE,CAAC,CAACc,MAAF,CAASC,KAAV,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,KAAK,EAAC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAFJ,CADJ;AASH;;AACD,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AACvB,QAAM;AAACX,IAAAA,IAAD;AAAMJ,IAAAA,GAAN;AAAWC,IAAAA;AAAX,MAAqBc,KAAK,CAACC,OAAjC;AAEA,QAAMC,WAAW,GAACjB,GAAG,KAAIf,IAAI,CAACiB,WAAL,CAAiBF,GAAxB,GAA+B,MAA/B,GAAwC,UAA1D;AACA,sBACC;AAAK,IAAA,SAAS,EAAE,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,GAAG,EAAEC,QAAQ,IAAI,uDAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASgB,WAAT,CAAX,EACEb,IADF,CAFC,CADD;AAMA;;AAEJ,eAAehB,OAAf","sourcesContent":["import React,{useState} from 'react'\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport {useCollectionData} from 'react-firebase-hooks/firestore'\r\nimport {db,auth} from './firebase'\r\nimport firebase from \"firebase\";\r\nimport { Button } from '@material-ui/core'\r\nimport \"./ChatRoom.css\"\r\n\r\nfunction Upload2() {\r\n\r\n    const msgRef=db.collection('Posts') /*creates reference in firebase */\r\n    const query=msgRef.orderBy('AtTime')\r\n    const [messages]=useCollectionData(query ,{idField: 'id'})\r\n    const[formInput, setFormInput]=useState('')\r\n    \r\n    const sendMsg=async(e)=>{\r\n       e.preventDefault()\r\n       const {uid, photoURL}=auth.currentUser\r\n       await msgRef.add({\r\n         text:formInput,\r\n         AtTime:  firebase.firestore.FieldValue.serverTimestamp(),\r\n         uid,\r\n         photoURL\r\n       })\r\n       setFormInput('')\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n             {messages && messages.map(msg=><ChatMessage key={msg.id} message={msg}/>)}\r\n            <form onSubmit={sendMsg}>\r\n                <input value={formInput} onChange={(e)=>setFormInput(e.target.value)} />\r\n                <Button variant=\"contained\" color=\"primary\">Send</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nfunction ChatMessage(props){\r\n    const {text,uid, photoURL}=props.message\r\n   \r\n    const compareUser=uid=== auth.currentUser.uid ? ('sent'):('recieved')\r\n    return (\r\n     <div className={'message $ {compareUser}'}>\r\n     <img src={photoURL || 'https://api.adorable.io/avatars/23/abott@adorable.png'}/>\r\n    <p>message <strong>{compareUser}</strong>\r\n     {text}</p></div>\r\n    )\r\n   }\r\n   \r\nexport default Upload2\r\n"]},"metadata":{},"sourceType":"module"}