{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\coterie\\\\src\\\\ChatRoom.js\";\nimport React, { useState } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { db, auth } from './firebase';\nimport firebase from \"firebase\";\nimport { Button } from '@material-ui/core';\n\nfunction ChatRoom() {\n  const msgRef = db.collection('Messages');\n  /*creates reference in firebase */\n\n  const query = msgRef.orderBy('AtTime').limit(25);\n  const [messages] = useCollectionData(query, {\n    idField: 'id'\n  });\n  const [formInput, setFormInput] = useState('');\n\n  const sendMsg = async e => {\n    e.preventDefault();\n    const {\n      uid\n    } = auth.currentUser;\n    await msgRef.add({\n      text: formInput,\n      AtTime: firebase.firestore.FieldValue.serverTimestamp(),\n      uid\n    });\n    setFormInput('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chatRoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, messages && messages.map(msg => /*#__PURE__*/React.createElement(ChatMessage, {\n    key: msg.id,\n    message: msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 42\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: formInput,\n    onChange: e => setFormInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, \"Send\")));\n}\n\nfunction ChatMessage(props) {\n  const {\n    text,\n    uid\n  } = props.message;\n  const compareUser = uid === auth.currentUser.uid ? 'sent' : 'recieved';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: 'message $ {compareUser}',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }, text));\n}\n\nexport default ChatRoom;","map":{"version":3,"sources":["D:/GitHub/coterie/src/ChatRoom.js"],"names":["React","useState","useAuthState","useCollectionData","db","auth","firebase","Button","ChatRoom","msgRef","collection","query","orderBy","limit","messages","idField","formInput","setFormInput","sendMsg","e","preventDefault","uid","currentUser","add","text","AtTime","firestore","FieldValue","serverTimestamp","map","msg","id","target","value","ChatMessage","props","message","compareUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,YAAR,QAA2B,2BAA3B;AACA,SAAQC,iBAAR,QAAgC,gCAAhC;AACA,SAAQC,EAAR,EAAWC,IAAX,QAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,MAAT,QAAuB,mBAAvB;;AACA,SAASC,QAAT,GAAoB;AAEhB,QAAMC,MAAM,GAACL,EAAE,CAACM,UAAH,CAAc,UAAd,CAAb;AAAuC;;AACvC,QAAMC,KAAK,GAACF,MAAM,CAACG,OAAP,CAAe,QAAf,EAAyBC,KAAzB,CAA+B,EAA/B,CAAZ;AACA,QAAM,CAACC,QAAD,IAAWX,iBAAiB,CAACQ,KAAD,EAAQ;AAACI,IAAAA,OAAO,EAAE;AAAV,GAAR,CAAlC;AACA,QAAK,CAACC,SAAD,EAAYC,YAAZ,IAA0BhB,QAAQ,CAAC,EAAD,CAAvC;;AAEA,QAAMiB,OAAO,GAAC,MAAMC,CAAN,IAAU;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAACC,MAAAA;AAAD,QAAMhB,IAAI,CAACiB,WAAjB;AACA,UAAMb,MAAM,CAACc,GAAP,CAAW;AACfC,MAAAA,IAAI,EAACR,SADU;AAEfS,MAAAA,MAAM,EAAGnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFM;AAGfP,MAAAA;AAHe,KAAX,CAAN;AAKAJ,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACF,GATD;;AAUA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGH,QAAQ,IAAIA,QAAQ,CAACe,GAAT,CAAaC,GAAG,iBAAE,oBAAC,WAAD;AAAa,IAAA,GAAG,EAAEA,GAAG,CAACC,EAAtB;AAA0B,IAAA,OAAO,EAAED,GAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB,CAFf,eAGI;AAAM,IAAA,QAAQ,EAAEZ,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAEF,SAAd;AAAyB,IAAA,QAAQ,EAAGG,CAAD,IAAKF,YAAY,CAACE,CAAC,CAACa,MAAF,CAASC,KAAV,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,KAAK,EAAC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAHJ,CADJ;AAUH;;AAED,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AAC1B,QAAM;AAACX,IAAAA,IAAD;AAAMH,IAAAA;AAAN,MAAWc,KAAK,CAACC,OAAvB;AAEA,QAAMC,WAAW,GAAChB,GAAG,KAAIhB,IAAI,CAACiB,WAAL,CAAiBD,GAAxB,GAA+B,MAA/B,GAAwC,UAA1D;AACA,sBACC;AAAK,IAAA,SAAS,EAAE,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIG,IAAJ,CAFA,CADD;AAKA;;AAED,eAAehB,QAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport {useCollectionData} from 'react-firebase-hooks/firestore'\r\nimport {db,auth} from './firebase'\r\nimport firebase from \"firebase\";\r\nimport { Button } from '@material-ui/core'\r\nfunction ChatRoom() {\r\n\r\n    const msgRef=db.collection('Messages') /*creates reference in firebase */\r\n    const query=msgRef.orderBy('AtTime').limit(25)\r\n    const [messages]=useCollectionData(query ,{idField: 'id'})\r\n    const[formInput, setFormInput]=useState('')\r\n    \r\n    const sendMsg=async(e)=>{\r\n       e.preventDefault()\r\n       const {uid}=auth.currentUser\r\n       await msgRef.add({\r\n         text:formInput,\r\n         AtTime:  firebase.firestore.FieldValue.serverTimestamp(),\r\n         uid\r\n       })\r\n       setFormInput('')\r\n    }\r\n    return (\r\n        <div className=\"chatRoom\">\r\n            \r\n          {messages && messages.map(msg=><ChatMessage key={msg.id} message={msg}/>)}\r\n            <form onSubmit={sendMsg}>\r\n                <input value={formInput} onChange={(e)=>setFormInput(e.target.value)} />\r\n                <Button variant=\"contained\" color=\"primary\">Send</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ChatMessage(props){\r\n const {text,uid}=props.message\r\n\r\n const compareUser=uid=== auth.currentUser.uid ? ('sent'):('recieved')\r\n return (\r\n  <div className={'message $ {compareUser}'}>\r\n  \r\n  <p>{text}</p></div>\r\n )\r\n}\r\n\r\nexport default ChatRoom\r\n"]},"metadata":{},"sourceType":"module"}